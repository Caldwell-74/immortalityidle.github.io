<h3 class="panelHeader">
  <table>
    <tr>
      <td class="headerCell">
        You are {{characterService.characterState.age / 365 | floor }} years<span *ngIf="characterService.characterState.age < 10000 * 365">,
        {{characterService.characterState.age % 365 | number: '1.0-0'}} days</span> old.
      </td>
      <td class="headerCell" *ngIf="characterService.characterState.immortal">
        You expect to live forever.
      </td>
      <td class="headerCell" *ngIf="!characterService.characterState.immortal">
        You expect to live {{characterService.characterState.lifespan / 365 | number: '1.0-1'}} years.
      </td>
      <td>
        <mat-icon tooltip="{{characterService.lifespanTooltip}}">timer</mat-icon>
      </td>
    </tr>
  </table>
</h3>
<table>
  <tr>
    <td tooltip="{{characterService.characterState.status.health.description}}" placement="right">Health</td>
    <td class="health">
      <div class="progress-bar" 
        [attr.value]="Math.floor(characterService.characterState.immortal && characterService.characterState.status.health.value < 0 ? 0 : characterService.characterState.status.health.value) | bigNumber"
        [attr.max]="Math.floor(characterService.characterState.status.health.max) | bigNumber">
        <span 
          [style.width.%]="100 * 
            Math.floor(characterService.characterState.immortal && characterService.characterState.status.health.value < 0 ? 0 : characterService.characterState.status.health.value) / 
            Math.floor(characterService.characterState.status.health.max)">
        </span>
      </div>
    </td>
    <td tooltip="{{characterService.characterState.status.stamina.description}}" placement="right">Stamina</td>
    <td class="stamina">
      <div class="progress-bar" 
        [attr.value]="Math.floor(characterService.characterState.status.stamina.value) | bigNumber"
        [attr.max]="Math.floor(characterService.characterState.status.stamina.max) | bigNumber">
        <span 
          [style.width.%]="100 * 
            Math.floor(characterService.characterState.status.stamina.value) / 
            Math.floor(characterService.characterState.status.stamina.max)">
        </span>
      </div>
    </td>
  </tr>
  <tr>
    <td tooltip="{{characterService.characterState.status.nourishment.description}}" placement="right">Nutrition</td>
    <td class="nourishment">
      <div class="progress-bar"
        [attr.value]="Math.floor(characterService.characterState.status.nourishment.value) | bigNumber"
        [attr.max]="Math.floor(characterService.characterState.status.nourishment.max) | bigNumber">
        <span 
          [style.width.%]="100 * 
            Math.floor(characterService.characterState.status.nourishment.value) / 
            Math.floor(characterService.characterState.status.nourishment.max)">
        </span>
      </div>
    </td>
    <td tooltip="{{characterService.characterState.status.mana.description}}" placement="right">Mana</td>
    <td class="mana">
      <div class="progress-bar"
        [attr.value]="Math.floor(characterService.characterState.status.mana.value) | bigNumber"
        [attr.max]="Math.floor(characterService.characterState.status.mana.max) | bigNumber">
        <span 
          [style.width.%]="100 * 
          Math.floor(characterService.characterState.status.mana.value) / 
          Math.floor(characterService.characterState.status.mana.max)">
        </span>
      </div>
    </td>
  </tr>
</table>
